/**
 * Cross-Browser Compatibility CSS Fallbacks
 * For DG Panchal Website
 */

/* ==========================================================================
   CSS Custom Properties (Variables) Fallbacks for IE11
   ========================================================================== */

/* Fallback color values for IE11 */
:root {
    --primary-color: #ff6b35;
    --secondary-color: #1a1a2e;
    --accent-color: #16213e;
    --text-light: #f0f6fc;
    --text-dark: #0d1117;
    --border-color: #30363d;
}

/* IE11 fallbacks - hardcoded values */
.header {
    background: rgba(13, 17, 23, 0.95); /* IE11 fallback */
    background: rgba(var(--text-dark), 0.95); /* Modern browsers */
}

.btn-primary {
    background-color: #ff6b35; /* IE11 fallback */
    background-color: var(--primary-color); /* Modern browsers */
    border-color: #ff6b35; /* IE11 fallback */
    border-color: var(--primary-color); /* Modern browsers */
}

.btn-secondary {
    background-color: #1a1a2e; /* IE11 fallback */
    background-color: var(--secondary-color); /* Modern browsers */
    border-color: #30363d; /* IE11 fallback */
    border-color: var(--border-color); /* Modern browsers */
}

/* ==========================================================================
   CSS Grid Fallbacks for IE11
   ========================================================================== */

/* Services Grid Fallback */
.services-grid {
    /* IE11 Flexbox fallback */
    display: -ms-flexbox;
    display: flex;
    -ms-flex-wrap: wrap;
    flex-wrap: wrap;
    margin: -15px;
}

/* Modern Grid for supported browsers */
@supports (display: grid) {
    .services-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
        gap: 30px;
        margin: 0;
    }
}

.service-card {
    /* IE11 Flexbox fallback */
    -ms-flex: 1 1 320px;
    flex: 1 1 320px;
    margin: 15px;
    max-width: calc(50% - 30px);
}

@supports (display: grid) {
    .service-card {
        margin: 0;
        max-width: none;
    }
}

/* Products Grid Fallback */
.products-grid {
    /* IE11 Flexbox fallback */
    display: -ms-flexbox;
    display: flex;
    -ms-flex-wrap: wrap;
    flex-wrap: wrap;
    margin: -15px;
}

@supports (display: grid) {
    .products-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
        gap: 30px;
        margin: 0;
    }
}

.product-card {
    /* IE11 Flexbox fallback */
    -ms-flex: 1 1 350px;
    flex: 1 1 350px;
    margin: 15px;
    max-width: calc(33.333% - 30px);
}

@supports (display: grid) {
    .product-card {
        margin: 0;
        max-width: none;
    }
}

/* Features Grid Fallback */
.features-grid {
    /* IE11 Flexbox fallback */
    display: -ms-flexbox;
    display: flex;
    -ms-flex-wrap: wrap;
    flex-wrap: wrap;
    margin: -10px;
}

@supports (display: grid) {
    .features-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 20px;
        margin: 0;
    }
}

.feature-card {
    /* IE11 Flexbox fallback */
    -ms-flex: 1 1 300px;
    flex: 1 1 300px;
    margin: 10px;
}

@supports (display: grid) {
    .feature-card {
        margin: 0;
    }
}

/* ==========================================================================
   Backdrop Filter Fallbacks
   ========================================================================== */

/* Backdrop filter with fallbacks */
.header {
    background: rgba(13, 17, 23, 0.95); /* Solid fallback for IE11 */
    /* Safari/WebKit */
    -webkit-backdrop-filter: blur(10px);
    backdrop-filter: blur(10px);
}

/* No backdrop-filter support fallback */
@supports not ((backdrop-filter: blur(10px)) or (-webkit-backdrop-filter: blur(10px))) {
    .header {
        background-color: #0d1117; /* Solid background */
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    }
}

/* ==========================================================================
   Flexbox Prefixes for Older Browsers
   ========================================================================== */

.hero-buttons {
    /* IE10 */
    display: -ms-flexbox;
    /* Modern browsers */
    display: flex;
    -ms-flex-wrap: wrap;
    flex-wrap: wrap;
    -ms-flex-pack: center;
    justify-content: center;
    -ms-flex-align: center;
    align-items: center;
    gap: 20px;
}

/* IE10/11 gap fallback */
.hero-buttons > * {
    margin: 10px;
}

@supports (gap: 20px) {
    .hero-buttons > * {
        margin: 0;
    }
}

.nav-container {
    /* IE10 */
    display: -ms-flexbox;
    /* Modern browsers */
    display: flex;
    -ms-flex-pack: justify;
    justify-content: space-between;
    -ms-flex-align: center;
    align-items: center;
}

.contact-content {
    /* IE10 */
    display: -ms-flexbox;
    /* Modern browsers */
    display: flex;
    -ms-flex-wrap: wrap;
    flex-wrap: wrap;
    gap: 40px;
}

/* IE10/11 gap fallback */
.contact-content > * {
    margin-bottom: 40px;
}

@supports (gap: 40px) {
    .contact-content > * {
        margin-bottom: 0;
    }
}

/* ==========================================================================
   Transform and Animation Fallbacks
   ========================================================================== */

/* Disable animations for IE11 and users who prefer reduced motion */
@media (prefers-reduced-motion: reduce), screen and (-ms-high-contrast: active) {
    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
        scroll-behavior: auto !important;
    }
}

/* Transform fallbacks for IE9 */
.product-overlay {
    /* IE9 fallback */
    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";
    filter: alpha(opacity=0);
    /* Modern browsers */
    opacity: 0;
    transform: translateY(20px);
}

.product-card:hover .product-overlay {
    /* IE9 fallback */
    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=100)";
    filter: alpha(opacity=100);
    /* Modern browsers */
    opacity: 1;
    transform: translateY(0);
}

/* ==========================================================================
   Object-fit Fallbacks for IE11
   ========================================================================== */

.hero-bg-image {
    width: 100%;
    height: 100vh;
    /* IE11 fallback */
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
}

/* Object-fit support */
@supports (object-fit: cover) {
    .hero-bg-image {
        object-fit: cover;
        object-position: center;
    }
}

.product-image img,
.about-img {
    width: 100%;
    height: 300px;
    /* IE11 fallback */
    background-size: cover;
    background-position: center;
}

@supports (object-fit: cover) {
    .product-image img,
    .about-img {
        object-fit: cover;
        object-position: center;
    }
}

/* ==========================================================================
   Smooth Scrolling Fallbacks
   ========================================================================== */

/* Smooth scrolling with fallback */
html {
    scroll-behavior: smooth;
}

/* IE and Safari fallback */
@media screen and (-ms-high-contrast: active), (-webkit-min-device-pixel-ratio: 0) {
    html {
        scroll-behavior: auto;
    }
}

/* ==========================================================================
   Box Shadow and Border Radius Fallbacks
   ========================================================================== */

.service-card,
.product-card,
.feature-card {
    /* IE8 fallback */
    border: 1px solid #30363d;
    /* Modern browsers */
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    border-radius: 12px;
}

/* ==========================================================================
   Font Loading Fallbacks
   ========================================================================== */

/* Font display fallbacks */
@font-face {
    font-family: 'Inter-fallback';
    src: local('Arial'), local('Helvetica'), local('sans-serif');
    font-display: swap;
}

body {
    font-family: 'Inter', 'Inter-fallback', -apple-system, BlinkMacSystemFont, 
                 'Segoe UI', Roboto, Arial, sans-serif;
}

/* ==========================================================================
   Print Styles
   ========================================================================== */

@media print {
    /* Remove animations and transitions for print */
    *,
    *::before,
    *::after {
        animation: none !important;
        transition: none !important;
    }
    
    /* Hide non-essential elements */
    .nav-toggle,
    .hero-buttons,
    .scroll-indicator,
    .contact-form,
    iframe {
        display: none !important;
    }
    
    /* Ensure text is readable */
    body {
        color: #000 !important;
        background: #fff !important;
    }
    
    .hero-title,
    .section-title,
    h1, h2, h3, h4 {
        color: #000 !important;
    }
    
    /* Optimize layouts for print */
    .container {
        max-width: none !important;
        margin: 0 !important;
        padding: 0 !important;
    }
}

/* ==========================================================================
   High Contrast Mode Support
   ========================================================================== */

@media (prefers-contrast: high) {
    .btn-primary,
    .btn-secondary {
        border: 2px solid;
    }
    
    .service-card,
    .product-card,
    .feature-card {
        border: 2px solid;
    }
}

@media screen and (-ms-high-contrast: active) {
    /* Windows High Contrast Mode */
    .hero-overlay {
        display: none;
    }
    
    .btn-primary,
    .btn-secondary {
        border: 2px solid WindowText;
    }
    
    .service-card,
    .product-card,
    .feature-card {
        border: 1px solid WindowText;
    }
}
